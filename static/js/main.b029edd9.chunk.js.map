{"version":3,"sources":["helpers.js","components/SessionSelect.js","components/PathImage.js","components/PathDisplayer.js","App.js","serviceWorker.js","index.js"],"names":["MONTHS_SHORT","NAME_REGEX","FormatTimestamp","timestamp","isNaN","parseInt","date","Date","getTime","IsValidDate","day","getDate","month","getMonth","year","getFullYear","hour","getHours","min","getMinutes","am_pm","substr","GetDuration","startTime","endTime","decimal","minutes","toFixed","SessionSelect","props","handleSelectUser","bind","handleSelectSession","handleSelectRecentSession","state","playersLoading","playerSessionsLoading","playerSessionsDisabled","recentSessionsLoading","allPlayers","playerSessions","recentSessions","selectedPlayer","selectedPlayerSession","selectedRecentSession","selectValues","player","playerSession","recentSession","callback","data","setState","fetch","process","then","result","json","sort","a","b","nameA","username","toLowerCase","nameB","localeCompare","users","forEach","elem","push","value","userId","label","query","sessions","duration","loginTime","logoutTime","sessionId","start_time","end_time","helpers","selectValue","this","sessionChange","generateUserSessions","reverse","changedSession","className","placeholder","options","isClearable","isLoading","isDisabled","onChange","React","Component","PathImage","worldName","title","match","Alert","variant","Heading","href","link","target","rel","width","src","alt","PathDisplayer","generateButtonClick","handleSessionChange","loading","session","images","generatedSession","starttime","endtime","Object","keys","links","catch","err","spinner","Spinner","animation","role","length","map","item","ind","key","id","Button","disabled","onClick","App","Boolean","window","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b029edd9.chunk.js","sourcesContent":["const MONTHS_SHORT = ['Jan.', 'Feb.', 'Mar.', 'Apr.', 'May', 'Jun.',\r\n    'Jul.', 'Aug.', 'Sept.', 'Oct.', 'Nov.', 'Dec.'];\r\nconst RECENT_SESSIONS = 20;\r\nconst NAME_REGEX = /(\\w+)-([0-9]+)-([0-9]+)_(\\w+)\\..*/;\r\n\r\nexport function IsValidDate(timestamp) {\r\n    if (isNaN(timestamp) || timestamp < 0) {\r\n        return false;\r\n    }\r\n\r\n    timestamp = parseInt(timestamp) * 1000\r\n    var date = new Date(timestamp);\r\n\r\n    if (isNaN(date.getTime())) {\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nexport function FormatTimestamp(timestamp) {\r\n    if (!IsValidDate(timestamp)) {\r\n        return \"N/A\" + (timestamp ? ` (${timestamp})` : \"\");\r\n    }\r\n\r\n    timestamp = parseInt(timestamp) * 1000\r\n    var date = new Date(timestamp);\r\n\r\n    var day = date.getDate();\r\n    var month = MONTHS_SHORT[date.getMonth()];\r\n    var year = date.getFullYear();\r\n    var hour = date.getHours() % 12;\r\n    if (hour === 0) hour = 12;\r\n    var min = \"0\" + date.getMinutes();\r\n    var am_pm = (date.getHours() >= 12) ? \"PM\" : \"AM\";\r\n\r\n    return month + ' ' + day + ' ' + year + ' ' + hour + ':' + min.substr(-2) + ' ' + am_pm;\r\n}\r\n\r\nexport function GetDuration(startTime, endTime, decimal=false) {\r\n    var minutes = (endTime - startTime) / 60\r\n\r\n    if (decimal)\r\n        return minutes.toFixed(2);\r\n    return parseInt(minutes, 10);\r\n}\r\n\r\nexport function GetWorldFromImageName(imageName) {\r\n    return imageName.match(NAME_REGEX)[4];\r\n}\r\n\r\nexport function QueryAllPlayers(callback) {\r\n    var query = process.env.REACT_APP_GET_ALL_USERS_URL;\r\n    fetch(query).then(result => result.json()).then(data => {\r\n\r\n        // Sort the names first\r\n        data.sort(function (a, b) {\r\n            var nameA = a.username.toLowerCase(), nameB = b.username.toLowerCase();\r\n            return nameA.localeCompare(nameB);\r\n        });\r\n\r\n        // Store the entries in an array\r\n        var users = []\r\n        data.forEach(elem => {\r\n            users.push({\r\n                value: elem.userId,\r\n                label: elem.username,\r\n            })\r\n        });\r\n        callback(users)\r\n    })\r\n}\r\n\r\nexport function QueryPlayerSessions(userId, callback) {\r\n    var query = `${process.env.REACT_APP_GET_SESSIONS_URL}/${userId}`;\r\n    fetch(query).then(result => result.json()).then(data => {\r\n        var sessions = []\r\n        data.forEach(elem => {\r\n            var duration = GetDuration(elem.loginTime, elem.logoutTime)\r\n            sessions.push({\r\n                value: elem.sessionId,\r\n                label: `${FormatTimestamp(elem.loginTime)} (${duration} mins)`,\r\n                userId: elem.userId,\r\n                // username: elem.username, // There is no username included!\r\n                start_time: elem.loginTime,\r\n                end_time: elem.logoutTime,\r\n            })\r\n\r\n        });\r\n        sessions.reverse()\r\n        callback(sessions)\r\n    })\r\n}\r\n\r\nexport function QueryRecentSessions(callback) {\r\n    var query = `${process.env.REACT_APP_GET_RECENT_SESSIONS_URL}/${RECENT_SESSIONS}`;\r\n    fetch(query).then(result => result.json()).then(data => {\r\n\r\n        var sessions = []\r\n        data.forEach(elem => {\r\n\r\n            var duration = GetDuration(elem.loginTime, elem.logoutTime)\r\n            sessions.push({\r\n                value: elem.sessionId,\r\n                label: `${elem.username}, ${FormatTimestamp(elem.loginTime)} (${duration} mins)`,\r\n                userId: elem.userId,\r\n                username: elem.username,\r\n                start_time: elem.loginTime,\r\n                end_time: elem.logoutTime,\r\n            })\r\n\r\n        });\r\n        // sessions.reverse()\r\n        callback(sessions)\r\n    })\r\n}\r\n\r\nexport function QueryPathGenerator(username, starttime, endtime, callback) {\r\n    var query = `${process.env.REACT_APP_PATH_GENERATOR_URL}?username=${username}&start_time=${starttime}&end_time=${endtime}`;\r\n    fetch(query).then(result => result.json()).then(data => {\r\n\r\n        var images = []\r\n        Object.keys(data.links).forEach(elem => {\r\n            images.push({\r\n                title: elem,\r\n                link: data.links[elem],\r\n            })\r\n        })\r\n\r\n        callback(images)\r\n    }).catch( err => {\r\n        callback([])\r\n    })\r\n}\r\n","import React from 'react';\r\n\r\nimport Select from 'react-select';\r\nimport * as helpers from '../helpers';\r\n\r\nclass SessionSelect extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.handleSelectUser = this.handleSelectUser.bind(this);\r\n        this.handleSelectSession = this.handleSelectSession.bind(this);\r\n        this.handleSelectRecentSession = this.handleSelectRecentSession.bind(this);\r\n\r\n        this.state = {\r\n            playersLoading: true,\r\n            playerSessionsLoading: false,\r\n            playerSessionsDisabled: true,\r\n            recentSessionsLoading: true,\r\n\r\n            allPlayers: [],\r\n            playerSessions: [],\r\n            recentSessions: [],\r\n\r\n            selectedPlayer: {},\r\n            selectedPlayerSession: {},\r\n            selectedRecentSession: {},\r\n\r\n            selectValues: {\r\n                player: null,\r\n                playerSession: null,\r\n                recentSession: null,\r\n            },\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Generate the list of players and recent sessions\r\n     */\r\n    componentDidMount() {\r\n        helpers.QueryAllPlayers(data => {\r\n            this.setState({\r\n                allPlayers: data,\r\n                playersLoading: false,\r\n            })\r\n        })\r\n\r\n        helpers.QueryRecentSessions(sessions => {\r\n            this.setState({\r\n                recentSessions: sessions,\r\n                recentSessionsLoading: false,\r\n            })\r\n        })\r\n    }\r\n\r\n    handleSelectUser(value) {\r\n\r\n        var selectValue = {\r\n            player: value,\r\n            playerSession: null,\r\n            recentSession: null,\r\n        }\r\n\r\n        this.setState({\r\n            selectedPlayer: value,\r\n            selectedPlayerSession: null,\r\n            selectValues: selectValue,\r\n        }, () => {\r\n            this.props.sessionChange(null);\r\n            this.generateUserSessions()\r\n        });\r\n    }\r\n\r\n    generateUserSessions() {\r\n        if (!this.state.selectedPlayer) {\r\n            this.setState({\r\n                playerSessionsDisabled: true,\r\n            });\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            playerSessionsLoading: true,\r\n            playerSessionsDisabled: true,\r\n        }, () => {\r\n            helpers.QueryPlayerSessions(this.state.selectedPlayer.value, sessions => {\r\n                this.setState({\r\n                    playerSessions: sessions,\r\n                    playerSessionsLoading: false,\r\n                    playerSessionsDisabled: false,\r\n                });\r\n            })\r\n        });\r\n        \r\n    }\r\n\r\n    handleSelectSession(value) {\r\n\r\n        var selectValue = this.state.selectValues\r\n        selectValue.playerSession = value\r\n\r\n        var changedSession = {\r\n            username: selectValue.player.label,\r\n            start_time: value.start_time,\r\n            end_time: value.end_time,\r\n        }\r\n\r\n        this.setState({\r\n            selectedPlayerSession: value,\r\n            selectValue: selectValue,\r\n        }, () => {\r\n            this.props.sessionChange(changedSession)\r\n        });\r\n    }\r\n\r\n    handleSelectRecentSession(value) {\r\n\r\n        var selectValue = {\r\n            player: null,\r\n            playerSession: null,\r\n            recentSession: value,\r\n        }\r\n\r\n        this.setState({\r\n            playerSessionsDisabled: true,\r\n            selectedPlayer: null,\r\n            selectedPlayerSession: null,\r\n            selectedRecentSession: value,\r\n            selectValues: selectValue,\r\n        }, () => {\r\n            this.props.sessionChange(value)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <p className=\"text-left m-0 p-0\"><b>\r\n                    Select a user and a session:\r\n                </b></p>\r\n                <Select\r\n                    className=\"Custom-select mb-1\"\r\n                    placeholder=\"Select a user\"\r\n                    options={this.state.allPlayers}\r\n                    isClearable\r\n                    value={this.state.selectValues.player}\r\n                    isLoading={this.state.playersLoading}\r\n                    isDisabled={this.state.playersLoading}\r\n                    onChange={this.handleSelectUser}\r\n                />\r\n                <Select\r\n                    className=\"Custom-select mb-4\"\r\n                    placeholder=\"Select a session\"\r\n                    options={this.state.playerSessions}\r\n                    isClearable\r\n                    value={this.state.selectValues.playerSession}\r\n                    isLoading={this.state.playerSessionsLoading}\r\n                    isDisabled={this.state.playerSessionsDisabled}\r\n                    onChange={this.handleSelectSession}\r\n                />\r\n\r\n                <p className=\"text-left m-0 p-0\"><b>\r\n                    Choose from the 20 most recent sessions:\r\n                </b></p>\r\n                <Select\r\n                    className=\"Custom-select\"\r\n                    placeholder=\"Select a recent session\"\r\n                    options={this.state.recentSessions}\r\n                    isClearable\r\n                    value={this.state.selectValues.recentSession}\r\n                    isLoading={this.state.recentSessionsLoading}\r\n                    isDisabled={this.state.recentSessionsLoading}\r\n                    onChange={this.handleSelectRecentSession}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default SessionSelect;","import React from 'react';\r\n\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport { GetWorldFromImageName } from '../helpers';\r\n\r\nclass PathImage extends React.Component {\r\n    render() {\r\n        var worldName = GetWorldFromImageName(this.props.title)\r\n        return (\r\n            <Alert variant=\"primary\">\r\n                <Alert.Heading>{worldName}</Alert.Heading>\r\n                <a\r\n                    href={this.props.link}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\">\r\n                    \r\n                    <img\r\n                        width='100%'\r\n                        src={this.props.link}\r\n                        alt={this.props.title}>\r\n                    </img>\r\n                </a>\r\n            </Alert>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PathImage;","import React from 'react';\r\n\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport SessionSelect from './SessionSelect';\r\nimport PathImage from './PathImage';\r\nimport * as helpers from '../helpers';\r\n\r\nclass PathDisplayer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.generateButtonClick = this.generateButtonClick.bind(this);\r\n        this.handleSessionChange = this.handleSessionChange.bind(this);\r\n\r\n        this.state = {\r\n            loading: false,\r\n            session: null,\r\n            images: null, //[] array of objects usually\r\n\r\n            generatedSession: null,\r\n        }\r\n    }\r\n\r\n    handleSessionChange(value) {\r\n        this.setState({ session: value });\r\n    }\r\n\r\n    generateButtonClick() {\r\n        this.setState({\r\n            loading: true,\r\n            images: null,\r\n            generatedSession: this.state.session,\r\n        }, () => {\r\n            helpers.QueryPathGenerator(\r\n                this.state.session.username,\r\n                this.state.session.start_time,\r\n                this.state.session.end_time,\r\n                images => {\r\n                    this.setState({\r\n                        images: images,\r\n                        loading: false,\r\n                    })\r\n                }\r\n            )\r\n        });\r\n    }\r\n\r\n    render() {\r\n        // Only render a spinner if we're in a loading state\r\n        var spinner = (null)\r\n        if (this.state.loading) {\r\n            spinner = (\r\n                <div>\r\n                    <Spinner animation=\"border\" role=\"status\">\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                    </Spinner>\r\n                    <p>This may take a moment.</p>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        // Render all the images or null if none exist\r\n        var images = (null)\r\n        if (this.state.images !== null) {\r\n            if (this.state.images.length === 0) {\r\n                images = (\r\n                    <div className=\"Path-displayer\">\r\n                        <Alert variant=\"danger\">\r\n                            {this.state.generatedSession.username} did not explore any maps during this session!\r\n                        </Alert>\r\n                    </div>\r\n                )\r\n            } else {\r\n                images = this.state.images.map((item, ind) => (\r\n                    <PathImage\r\n                        key={item.link}\r\n                        link={item.link}\r\n                        title={item.title}\r\n                    />\r\n                ));\r\n                images = (\r\n                    <div>\r\n                        <div className=\"Path-displayer\">\r\n                            <Alert variant=\"success\">\r\n                                {this.state.generatedSession.username} explored {this.state.images.length} map(s)!\r\n                            </Alert>\r\n                        </div>\r\n                        <div className=\"Path-images\">\r\n                            {images}\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div id=\"parent\">\r\n            <div className=\"Path-displayer\" id=\"input\">\r\n                <Alert variant=\"primary\">\r\n                    <Alert.Heading>Welcome to the WHIMC Path Displayer!</Alert.Heading>\r\n                    <hr />\r\n                    <SessionSelect\r\n                        sessionChange={this.handleSessionChange}\r\n                    />\r\n                    <hr />\r\n                    <Button\r\n                        variant=\"primary\"\r\n                        disabled={this.state.session === null || this.state.loading}\r\n                        onClick={this.generateButtonClick}>\r\n                        Generate Images\r\n                    </Button>\r\n                </Alert>\r\n                {spinner}\r\n            </div>\r\n            {images}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default PathDisplayer;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport PathDisplayer from './components/PathDisplayer';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <PathDisplayer />\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}