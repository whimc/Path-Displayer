(this["webpackJsonppath-displayer"]=this["webpackJsonppath-displayer"]||[]).push([[0],{29:function(e,t,s){},30:function(e,t,s){},51:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),i=s(6),l=s.n(i),c=(s(29),s(30),s(31),s(13)),r=s(14),o=s(9),u=s(16),h=s(15),d=s(11),m=s(22),b=s(23),j=s(18),p=["Jan.","Feb.","Mar.","Apr.","May","Jun.","Jul.","Aug.","Sept.","Oct.","Nov.","Dec."],S=/(\w+)-([0-9]+)-([0-9]+)_(.+)\..*/;function g(e){if(!function(e){if(isNaN(e)||e<0)return!1;e=1e3*parseInt(e);var t=new Date(e);return!isNaN(t.getTime())}(e))return"N/A"+(e?" (".concat(e,")"):"");e=1e3*parseInt(e);var t=new Date(e),s=t.getDate(),n=p[t.getMonth()],a=t.getFullYear(),i=t.getHours()%12;0===i&&(i=12);var l="0"+t.getMinutes(),c=t.getHours()>=12?"PM":"AM";return n+" "+s+" "+a+" "+i+":"+l.substr(-2)+" "+c}function y(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(t-e)/60;return s?n.toFixed(2):parseInt(n,10)}var x=s(2),O=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).handleSelectUser=n.handleSelectUser.bind(Object(o.a)(n)),n.handleSelectSession=n.handleSelectSession.bind(Object(o.a)(n)),n.handleSelectRecentSession=n.handleSelectRecentSession.bind(Object(o.a)(n)),n.state={playersLoading:!0,playerSessionsLoading:!1,playerSessionsDisabled:!0,recentSessionsLoading:!0,allPlayers:[],playerSessions:[],recentSessions:[],selectedPlayer:{},selectedPlayerSession:{},selectedRecentSession:{},selectValues:{player:null,playerSession:null,recentSession:null}},n}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var e,t=this;e=function(e){t.setState({allPlayers:e,playersLoading:!1})},fetch("https://pz712697b9.execute-api.us-east-2.amazonaws.com/default/getallusers").then((function(e){return e.json()})).then((function(t){t.sort((function(e,t){var s=e.username.toLowerCase(),n=t.username.toLowerCase();return s.localeCompare(n)}));var s=[];t.forEach((function(e){s.push({value:e.userId,label:e.username})})),e(s)})),function(e){var t="".concat("https://pz712697b9.execute-api.us-east-2.amazonaws.com/default/getrecentsessions","/").concat(20);fetch(t).then((function(e){return e.json()})).then((function(t){var s=[];t.forEach((function(e){var t=y(e.loginTime,e.logoutTime);s.push({value:e.sessionId,label:"".concat(e.username,", ").concat(g(e.loginTime)," (").concat(t," mins)"),userId:e.userId,username:e.username,start_time:e.loginTime,end_time:e.logoutTime})})),e(s)}))}((function(e){t.setState({recentSessions:e,recentSessionsLoading:!1})}))}},{key:"handleSelectUser",value:function(e){var t=this,s={player:e,playerSession:null,recentSession:null};this.setState({selectedPlayer:e,selectedPlayerSession:null,selectValues:s},(function(){t.props.sessionChange(null),t.generateUserSessions()}))}},{key:"generateUserSessions",value:function(){var e=this;this.state.selectedPlayer?this.setState({playerSessionsLoading:!0,playerSessionsDisabled:!0},(function(){!function(e,t){var s="".concat("https://pz712697b9.execute-api.us-east-2.amazonaws.com/default/getsessions","/").concat(e);fetch(s).then((function(e){return e.json()})).then((function(e){var s=[];e.forEach((function(e){var t=y(e.loginTime,e.logoutTime);s.push({value:e.sessionId,label:"".concat(g(e.loginTime)," (").concat(t," mins)"),userId:e.userId,start_time:e.loginTime,end_time:e.logoutTime})})),s.reverse(),t(s)}))}(e.state.selectedPlayer.value,(function(t){e.setState({playerSessions:t,playerSessionsLoading:!1,playerSessionsDisabled:!1})}))})):this.setState({playerSessionsDisabled:!0})}},{key:"handleSelectSession",value:function(e){var t=this,s=this.state.selectValues;s.playerSession=e;var n={username:s.player.label,start_time:e.start_time,end_time:e.end_time};this.setState({selectedPlayerSession:e,selectValue:s},(function(){t.props.sessionChange(n)}))}},{key:"handleSelectRecentSession",value:function(e){var t=this,s={player:null,playerSession:null,recentSession:e};this.setState({playerSessionsDisabled:!0,selectedPlayer:null,selectedPlayerSession:null,selectedRecentSession:e,selectValues:s},(function(){t.props.sessionChange(e)}))}},{key:"render",value:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{className:"text-left m-0 p-0",children:Object(x.jsx)("b",{children:"Select a user and a session:"})}),Object(x.jsx)(j.a,{className:"Custom-select mb-1",placeholder:"Select a user",options:this.state.allPlayers,isClearable:!0,value:this.state.selectValues.player,isLoading:this.state.playersLoading,isDisabled:this.state.playersLoading,onChange:this.handleSelectUser}),Object(x.jsx)(j.a,{className:"Custom-select mb-4",placeholder:"Select a session",options:this.state.playerSessions,isClearable:!0,value:this.state.selectValues.playerSession,isLoading:this.state.playerSessionsLoading,isDisabled:this.state.playerSessionsDisabled,onChange:this.handleSelectSession}),Object(x.jsx)("p",{className:"text-left m-0 p-0",children:Object(x.jsx)("b",{children:"Choose from the 20 most recent sessions:"})}),Object(x.jsx)(j.a,{className:"Custom-select",placeholder:"Select a recent session",options:this.state.recentSessions,isClearable:!0,value:this.state.selectValues.recentSession,isLoading:this.state.recentSessionsLoading,isDisabled:this.state.recentSessionsLoading,onChange:this.handleSelectRecentSession})]})}}]),s}(a.a.Component),f=function(e){var t,s=e.title,n=e.link;return Object(x.jsxs)(d.a,{variant:"primary",children:[Object(x.jsx)(d.a.Heading,{children:(t=s,t.match(S)[4])}),Object(x.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:Object(x.jsx)("img",{width:"100%",src:n,alt:s})})]})},v=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).generateButtonClick=n.generateButtonClick.bind(Object(o.a)(n)),n.handleSessionChange=n.handleSessionChange.bind(Object(o.a)(n)),n.state={loading:!1,session:null,images:null,generatedSession:null},n}return Object(r.a)(s,[{key:"handleSessionChange",value:function(e){this.setState({session:e})}},{key:"generateButtonClick",value:function(){var e=this;this.setState({loading:!0,images:null,generatedSession:this.state.session},(function(){!function(e,t,s,n){var a="".concat("https://whimc-api.education.illinois.edu/path-generator/api","?username=").concat(e,"&start_time=").concat(t,"&end_time=").concat(s);fetch(a).then((function(e){return e.json()})).then((function(e){var t=[];Object.keys(e.links).forEach((function(s){t.push({title:s,link:e.links[s]})})),n(t)})).catch((function(e){n([])}))}(e.state.session.username,e.state.session.start_time,e.state.session.end_time,(function(t){e.setState({images:t,loading:!1})}))}))}},{key:"render",value:function(){var e=null;this.state.loading&&(e=Object(x.jsxs)("div",{children:[Object(x.jsx)(m.a,{animation:"border",role:"status",children:Object(x.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(x.jsx)("p",{children:"This may take a moment."})]}));var t=null;return null!==this.state.images&&(0===this.state.images.length?t=Object(x.jsx)("div",{className:"Path-displayer",children:Object(x.jsxs)(d.a,{variant:"danger",children:[this.state.generatedSession.username," did not explore any maps during this session!"]})}):(t=this.state.images.map((function(e,t){return Object(x.jsx)(f,{link:e.link,title:e.title},e.link)})),t=Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"Path-displayer",children:Object(x.jsxs)(d.a,{variant:"success",children:[this.state.generatedSession.username," explored ",this.state.images.length," map(s)!"]})}),Object(x.jsx)("div",{className:"Path-images",children:t})]}))),Object(x.jsxs)("div",{id:"parent",children:[Object(x.jsxs)("div",{className:"Path-displayer",id:"input",children:[Object(x.jsxs)(d.a,{variant:"primary",children:[Object(x.jsx)(d.a.Heading,{children:"Welcome to the WHIMC Path Displayer!"}),Object(x.jsx)("hr",{}),Object(x.jsx)(O,{sessionChange:this.handleSessionChange}),Object(x.jsx)("hr",{}),Object(x.jsx)(b.a,{variant:"primary",disabled:null===this.state.session||this.state.loading,onClick:this.generateButtonClick,children:"Generate Images"})]}),e]}),t]})}}]),s}(a.a.Component),I=s(24),M=function(){return Object(x.jsx)("a",{href:"https://github.com/whimc/Path-Displayer",children:Object(x.jsx)(I.a,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwQTM4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwQTI4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTMyOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjJBNDE0QUJDOTlBMTExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+8kSqyAAADD5JREFUeNrsXQ2Q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",height:"50px"})})};var A=function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(v,{}),Object(x.jsx)(M,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(Object(x.jsx)(A,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[51,1,2]]]);
//# sourceMappingURL=main.6ef3eadf.chunk.js.map